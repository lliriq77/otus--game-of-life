!function(){"use strict";function e(e,n,t){var r=0;return t-1>=0&&t-1<e.length&&(r+=e[t-1][n-1]||0,r+=e[t-1][n]||0,r+=e[t-1][n+1]||0),t>=0&&t<e.length&&(r+=e[t][n-1]||0,r+=e[t][n+1]||0),t+1>=0&&t+1<e.length&&(r+=e[t+1][n-1]||0,r+=e[t+1][n]||0,r+=e[t+1][n+1]||0),r}function n(n,t,r){n.innerHTML="";var a=document.createElement("table");t.forEach((function(n,r){var c=document.createElement("tr");n.forEach((function(n,a){var l=document.createElement("td");l.classList.add("cell"),l.classList.add(0===n?"cell--dead":2===e(t,a,r)||3===e(t,a,r)?"cell--alive":"cell--dying"),l.dataset.x="".concat(a),l.dataset.y="".concat(r),c.append(l)})),a.append(c)})),a.addEventListener("click",(function(e){var n=e.target;if(n.classList.contains("cell")){var t=n.classList.contains("cell--alive")||n.classList.contains("cell--dying");r(Number(n.dataset.x),Number(n.dataset.y),t)}})),n.append(a)}function t(n){for(var t=n.slice(0),r=0;r<n.length;r+=1){t[r]=t[r].slice(0);for(var a=0;a<n[r].length;a+=1){var c=e(n,a,r),l=(i=0!==n[r][a],o=c,!1===i&&3===o||!0===i&&(2===o||3===o));t[r][a]=l?1:0}}var i,o;return t}var r,a=20,c=20;!function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;r=Array.from({length:c}).map((function(){return Array.from({length:a}).fill(0)}));var i=document.createElement("div");i.classList.add("field"),e.append(i);var o=document.createElement("button");o.innerHTML="Start",e.append(o);var d=document.createElement("button");d.innerHTML="+",e.append(d);var u,f=document.createElement("button");function s(){r=t(r),n(i,r,v)}f.innerHTML="-",e.append(f),o.addEventListener("click",(function(){"Start"===o.innerHTML?(o.innerHTML="Stop",u=setInterval(s,l)):(o.innerHTML="Start",clearInterval(u))})),d.addEventListener("click",(function(){a+=1,c+=1;var e=Array.from({length:c}).map((function(){return Array.from({length:a}).fill(0)}));r=t(r);for(var l=0;l<e.length-1;l+=1)for(var o=0;o<e[l].length-1;o+=1)e[l][o]=r[l][o];n(i,e,v),r=e})),f.addEventListener("click",(function(){a-=1,c-=1;var e=Array.from({length:c}).map((function(){return Array.from({length:a}).fill(0)}));r=t(r);for(var l=0;l<e.length;l+=1)for(var o=0;o<e[l].length;o+=1)e[l][o]=r[l][o];n(i,e,v),r=e}));var v=function e(t,a){r[a][t]=r[a][t]?0:1,n(i,r,e)};n(i,r,v)}(document.querySelector("#app"))}();